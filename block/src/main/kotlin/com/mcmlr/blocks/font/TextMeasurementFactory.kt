package com.mcmlr.blocks.font

import kotlin.math.max

fun String.getMCTextLines(maxLength: Int): Int {
    if (maxLength < 0) return 1

    var lines = 1
    var length = 0

    split(" ").forEach { w ->
        val words = w.split("\n")
        words.forEachIndexed { i, word ->
            val wordLength = getWordLength(word)
            if (i > 0) {
                lines++
                length = 0
            }

            if (length + wordLength > maxLength) {
                if (length > 0) lines++

                if (wordLength > maxLength) {

                    lines += wordLength / maxLength
                }

                length = wordLength % maxLength

            } else {
                length += wordLength + 4
            }
        }
    }

    return lines
}

fun String.getMCTextWidth(maxLength: Int): Int {
    var maxLineLength = 0
    var currentLength = 0
    var wordLength = 0

    var skip = false
    var escape = false
    var bold = false

    forEach { c ->
        when {
            c == 'ยง' -> {
                skip = true
            }

            c == '\\' -> {
                escape = true
            }

            skip -> {
                when(c) {
                    'l' -> bold = true
                    '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f', 'r' -> bold = false
                }
                skip = false
            }

            escape -> {
                escape = false
                maxLineLength = max(maxLineLength, currentLength + wordLength)
                currentLength = 0
                wordLength = 0
            }

            else -> {
                if (c == ' ') {
                    if (currentLength + wordLength <= maxLength) {
                        currentLength += wordLength + (asciiCharacters[c] ?: 0) + 1
                        wordLength = 0

                        if (currentLength >= maxLength) {
                            maxLineLength = maxLength
                            currentLength = 0
                            wordLength = 0
                        }
                    } else {
                        maxLineLength = max(maxLineLength, currentLength)
                        currentLength = wordLength
                        wordLength = 0
                    }
                } else {
                    var charLength = if (asciiCharacters[c] != null) {
                        asciiCharacters[c] ?: 0
                    } else if (nonLatinCharacters.contains(c) || accentedCharacters.contains(c)) {
                        5
                    } else {
                        8
                    }

                    if (bold) charLength++

                    if (wordLength + charLength > maxLength) {
                        maxLineLength = max(maxLineLength, wordLength)
                        currentLength = charLength + 1
                        wordLength = 0
                    } else {
                        wordLength += charLength + 1
                    }
                }
            }
        }
    }

    if (currentLength + wordLength <= maxLength) {
        currentLength += wordLength
        maxLineLength = max(maxLineLength, currentLength)
    } else {
        maxLineLength = max(maxLineLength, max(currentLength, wordLength))
    }

    return maxLineLength
}

fun String.reduceToLength(length: Int): String {
    if (length < 1) return this

    var newString = ""
    var currentLength = 0

    var skip = false
    var escape = false
    var bold = false

    forEach { c ->
        when {
            c == 'ยง' -> {
                skip = true
            }

            c == '\\' -> {
                escape = true
            }

            skip -> {
                when(c) {
                    'l' -> bold = true
                    '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f', 'r' -> bold = false
                    'n' -> {
                        //TODO: I dunno?
                    }
                }
                skip = false
            }

            escape -> {
                escape = false
            }

            else -> {
                var charLength = if (asciiCharacters[c] != null) {
                    asciiCharacters[c] ?: 0
                } else if (nonLatinCharacters.contains(c) || accentedCharacters.contains(c)) {
                    5
                } else {
                    8
                }

                if (bold) charLength++

                if (currentLength + charLength > length - 10) {
                    newString = newString.trim()
                    newString += " ..."
                    return newString
                } else {
                    currentLength += charLength
                }
            }
        }

        newString += c
    }

    return newString
}

fun getWordLength(word: String): Int {
    var length = 0
    var skip = false
    var escape = false
    var bold = false

    word.forEach { c ->
        if (c == 'ยง') {
            skip = true
        } else if (c == '\\') {
            escape = true
        } else if (skip) {
            when(c) {
                'l' -> bold = true
                '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f', 'r' -> bold = false
            }
            skip = false
        } else if (escape) {
            escape = false
        } else {
            length += if (asciiCharacters[c] != null) {
                asciiCharacters[c] ?: 0
            } else if (nonLatinCharacters.contains(c) || accentedCharacters.contains(c)) {
                5
            } else {
                8
            }

            length += if (bold) 2 else 1
        }
    }

    return length
}

val accentedCharacters = hashSetOf(
    '\u1e60', '\u0149', '\u0490', '\u0407', '\u0390', '\u017e', '\u016e', '\u014e', '\u013d', '\u012a', '\u011c', '\u010c', '\u00fb', '\u00e4', '\u00d0', '\u00c0', '\u1f21', '\u1f12', '\u1f85',
    '\u1e61', '\u01e7', '\u0491', '\u040c', '\u03aa', '\u01fc', '\u016f', '\u014f', '\u013e', '\u012b', '\u011d', '\u010d', '\u00fc', '\u00e5', '\u00d1', '\u00c1', '\u1f2a', '\u1f1b', '\u1f8e',
    '\u1e6a', '\u01eb', '\u1e02', '\u040d', '\u03ab', '\u01fd', '\u0170', '\u0150', '\u013f', '\u012c', '\u1e20', '\u010e', '\u00fd', '\u00e6', '\u00d2', '\u00c2', '\u1f22', '\u1f13', '\u1f86',
    '\u1e6b', '\u040f', '\u1e03', '\u040e', '\u03ac', '\u01fe', '\u0171', '\u0151', '\u0140', '\u012d', '\u1e21', '\u010f', '\u00ff', '\u00e7', '\u00d3', '\u00c3', '\u1f2b', '\u1f1c', '\u1f8f',
    '\u1e80', '\u1e0d', '\u1e0a', '\u0419', '\u03ad', '\u01ff', '\u0172', '\u0152', '\u0141', '\u012e', '\u011e', '\u0110', '\u0100', '\u00ec', '\u00d4', '\u00c4', '\u1f23', '\u1f14', '\u1f87',
    '\u1e81', '\u1e25', '\u1e0b', '\u0439', '\u03ae', '\u0218', '\u0173', '\u0153', '\u0142', '\u012f', '\u011f', '\u0111', '\u0101', '\u00ed', '\u00d5', '\u00c5', '\u1f2c', '\u1f1d', '\u1fbc',
    '\u1e82', '\u1e5b', '\u1e1e', '\u0450', '\u03af', '\u0219', '\u0174', '\u0154', '\u0143', '\u0130', '\u0120', '\u0112', '\u0102', '\u00ee', '\u00d6', '\u00c6', '\u1f24', '\u1f15', '\u1fb4',
    '\u1e83', '\u1e6d', '\u1e1f', '\u0451', '\u03b0', '\u021a', '\u0175', '\u0155', '\u0144', '\u0131', '\u0121', '\u0113', '\u0103', '\u00ef', '\u00d9', '\u00c7', '\u1f2d', '\u1fc8', '\u1fb6',
    '\u1e84', '\u1e92', '\u1e22', '\u0452', '\u03ca', '\u021b', '\u0176', '\u0156', '\u0145', '\u0134', '\u0122', '\u0114', '\u0104', '\u00f1', '\u00da', '\u00c8', '\u1f25', '\u1fc9', '\u1fb7',
    '\u1e85', '\u1eca', '\u1e23', '\u0453', '\u03cb', '\u0386', '\u0177', '\u0157', '\u0146', '\u0135', '\u0123', '\u0115', '\u0105', '\u00f2', '\u00db', '\u00c9', '\u1f2e', '\u1f72', '\u1fb2',
    '\u1ef2', '\u1ecb', '\u1e30', '\u0457', '\u03cc', '\u0388', '\u0178', '\u0158', '\u0147', '\u0136', '\u0124', '\u0116', '\u0106', '\u00f3', '\u00dc', '\u00ca', '\u1f26', '\u1f73', '\u1fb3',
    '\u1ef3', '\u1ecc', '\u1e31', '\u045b', '\u03cd', '\u0389', '\u0179', '\u0159', '\u0148', '\u0137', '\u0125', '\u0117', '\u0107', '\u00f4', '\u00dd', '\u00cb', '\u1f2f', '\u1f28', '\u1f18',
    '\u00e8', '\u1ecd', '\u1e40', '\u045c', '\u03ce', '\u038a', '\u017a', '\u015a', '\u014a', '\u0139', '\u0126', '\u0118', '\u0108', '\u00f5', '\u00e0', '\u00cc', '\u1f27', '\u1f20', '\u1f10',
    '\u00e9', '\u1ee4', '\u1e41', '\u045d', '\u0400', '\u038c', '\u017b', '\u015b', '\u014b', '\u013a', '\u0127', '\u0119', '\u0109', '\u00f6', '\u00e1', '\u00cd', '\u1f98', '\u1fca', '\u1f19',
    '\u00ea', '\u1ee5', '\u1e56', '\u045e', '\u0401', '\u038e', '\u017c', '\u015c', '\u014c', '\u013b', '\u0128', '\u011a', '\u010a', '\u00f9', '\u00e2', '\u00ce', '\u1f90', '\u1f74', '\u1f11',
    '\u00eb', '\u2116', '\u1e57', '\u045f', '\u0403', '\u038f', '\u017d', '\u015d', '\u014d', '\u013c', '\u0129', '\u011b', '\u010b', '\u00fa', '\u00e3', '\u00cf', '\u1f99', '\u1f29', '\u1f1a',

    '\u1e35', '\u1e45', '\u1e2f', '\u0206', '\u1e0c', '\u1e01', '\u0282', '\u24db', '\u24cb', '\u24bb', '\u2469', '\u04a0', '\u261c', '\u1ed8', '\u1ee6', '\u1edb', '\u1eb2', '\ufb04', '\u0207',
    '\u1e3a', '\u1e46', '\u020a', '\u1d6e', '\u1d6d', '\u0200', '\u0290', '\u24dc', '\u24cc', '\u24bc', '\u246a', '\u04a1', '\u262e', '\u1ed9', '\u1ee7', '\u1ee8', '\u1eb3', '\ufb06', '\u0194',
    '\u1e3b', '\u1e47', '\u020b', '\u01f4', '\u1e14', '\u0201', '\u0276', '\u24dd', '\u24cd', '\u24bd', '\u246b', '\u04aa', '\u1eb4', '\u1ee2', '\u1eec', '\u1ee9', '\u1ea8', '\u16a1', '\u0263',
    '\u1e3c', '\u1e4a', '\u01cf', '\u01f5', '\u1e15', '\u1e06', '\u01cd', '\u24de', '\u24ce', '\u24be', '\u246c', '\u04ab', '\u1eb5', '\u1ee3', '\u1eed', '\u1eb0', '\u1ea9', '\u16b5', '\u0283',
    '\u1e3d', '\u1e4b', '\u01d0', '\u01e6', '\u1e16', '\u1e07', '\u01ce', '\u24df', '\u24cf', '\u24bf', '\u246d', '\u01f6', '\u1ebc', '\u1ef0', '\u1ef6', '\u1eb1', '\u1eba', '\u01a0', '\u2047',
    '\u1e36', '\u01f8', '\u0208', '\u1e26', '\u1e17', '\u1e04', '\u01de', '\u24e0', '\u24d0', '\u24c0', '\u246e', '\u26a0', '\u1ebd', '\u1ef1', '\u1ef7', '\u1ea6', '\u1ebb', '\u01a1', '\u01f1',
    '\u1e37', '\u01f9', '\u0209', '\u1e27', '\u1e18', '\u1e05', '\u01df', '\u24e1', '\u24d1', '\u24c1', '\u246f', '\u24ea', '\u1ec4', '\u1ef4', '\u1ea0', '\u1ea7', '\u1ed5', '\u01af', '\u01f2',
    '\u1e38', '\u1e48', '\u1e2c', '\u1e28', '\u1e19', '\u1d6c', '\u01fa', '\u24e2', '\u24d2', '\u24c2', '\u2470', '\u2460', '\u1ec5', '\u1ef5', '\u1ea1', '\u1ec0', '\u1ede', '\u01b0', '\u01f3',
    '\u1e39', '\u1e49', '\u1e2d', '\u1e29', '\u1e1c', '\u1e08', '\u01fb', '\u24e3', '\u24d3', '\u24c3', '\u2471', '\u2461', '\u1ed2', '\u1ed0', '\u1eb6', '\u1ec1', '\u1ec2', '\u1eae', '\u01c4',
    '\u2c62', '\u1d70', '\u01f0', '\u1e2a', '\u1e1d', '\u1e09', '\u0202', '\u24e4', '\u24d4', '\u24c4', '\u2472', '\u2462', '\u1ee0', '\u0195', '\u1eb7', '\u1ed3', '\u1ec3', '\u1eaf', '\u01c5',
    '\u1e3e', '\u01ec', '\u0237', '\u1e2b', '\u0228', '\u1e10', '\u0203', '\u24e5', '\u24d5', '\u24c5', '\u2473', '\u2463', '\u1ee1', '\u1eaa', '\u1eac', '\u1edc', '\u1ec8', '\u1ea4', '\u01c6',
    '\u1e3f', '\u01ed', '\u01e8', '\u021e', '\u0229', '\u1e11', '\u0226', '\u24e6', '\u24d6', '\u24c6', '\u24b6', '\u2464', '\u1eee', '\u1eab', '\u1ead', '\u1edd', '\u1ec9', '\u1ea5', '\u01c7',
    '\u1e42', '\u022c', '\u01e9', '\u021f', '\u1e1a', '\u1e12', '\u0227', '\u24e7', '\u24d7', '\u24c7', '\u24b7', '\u2465', '\u1ef8', '\u1ed6', '\u1eb8', '\u1eea', '\u1ece', '\u1ebe', '\u01c8',
    '\u1e43', '\u022d', '\u1e32', '\u1e24', '\u1e1b', '\u1e13', '\u01e0', '\u24e8', '\u24d8', '\u24c8', '\u24b8', '\u2466', '\u1ef9', '\u1ed7', '\u1eb9', '\u1eeb', '\u1ecf', '\u1ebf', '\u01ca',
    '\u1d6f', '\u1e4c', '\u1e33', '\u1e96', '\u0204', '\u1e0e', '\u01e1', '\u24e9', '\u24d9', '\u24c9', '\u24b9', '\u2467', '\u0498', '\u1eef', '\u1ec6', '\u1ea2', '\u1ed4', '\u1ed1', '\u01cb',
    '\u1e44', '\u1e4d', '\u1e34', '\u1e2e', '\u0205', '\u1e0f', '\u1e00', '\u0327', '\u24da', '\u24ca', '\u24ba', '\u2468', '\u0499', '\u261e', '\u1ec7', '\u1ea3', '\u1edf', '\u1eda', '\u01cc',

    '\u0518', '\u04c4', '\ua68c', '\u04cd', '\u0504', '\u04f5', '\u04df', '\u04f7', '\u01a3', '\u01a4', '\u0182', '\u02a5', '\u1e93', '\u01d8', '\u1e88', '\u1e6c', '\u020c', '\u1e5a', '\u1e4e',
    '\u051c', '\u049f', '\u050e', '\u04c9', '\u0510', '\u04f8', '\u04e2', '\u0494', '\u0222', '\u01a5', '\u0183', '\u02a4', '\u1d76', '\u01d9', '\u1e89', '\u1e97', '\u020d', '\u1d73', '\u1e4f',
    '\u04d5', '\u049d', '\u04b2', '\u0528', '\u04e0', '\u04f9', '\u04e3', '\u0495', '\u0223', '\u027d', '\u0187', '\u02a9', '\u01ee', '\u01da', '\u1e98', '\u1d75', '\u01ea', '\u1d72', '\u1e50',
    '\u04fb', '\u051f', '\u04fc', '\u04c7', '\u0506', '\u04ec', '\u04e4', '\u04d6', '\u02ad', '\u01a6', '\u0188', '\u02aa', '\u01ef', '\u01db', '\u1e8c', '\u1e72', '\u1e54', '\u1e64', '\u1e51',
    '\u0503', '\u051b', '\u04fe', '\u04a4', '\u048a', '\u04ed', '\u04e5', '\u04d7', '\u02ae', '\u01ac', '\u018a', '\u02ab', '\u1e9b', '\u01dc', '\u1e8d', '\u1e73', '\u1e55', '\u1e65', '\u1e52',
    '\ua683', '\u04c6', '\u0526', '\u0522', '\u04c3', '\u0476', '\u04e6', '\u04bc', '\u02af', '\u01ad', '\u018b', '\u0239', '\ua73e', '\u1e74', '\u1e8a', '\u1e76', '\u1d71', '\u1e66', '\u1e53',
    '\ua681', '\u052f', '\ua694', '\u050a', '\u049e', '\u0477', '\u04e7', '\u04bd', '\ufb14', '\u01ab', '\u018c', '\u02a8', '\ua73f', '\u1e75', '\u1e8b', '\u1e77', '\u0212', '\u1e67', '\u020e',
    '\ua689', '\u0513', '\u04b4', '\u04a8', '\u049c', '\u04d4', '\u04ea', '\u04be', '\ufb15', '\u01ae', '\u0193', '\u02a6', '\u01e2', '\u0214', '\u0232', '\u1e78', '\u0213', '\u1e62', '\u020f',
    '\u052b', '\u0521', '\ua68e', '\u0524', '\u051e', '\u04fa', '\u04eb', '\u04bf', '\ufb17', '\u0217', '\u01e4', '\u02a7', '\u01e3', '\u0215', '\u0233', '\u1e79', '\u1e58', '\u1e63', '\u022a',
    '\u052d', '\u0509', '\u04b6', '\u04a6', '\u051a', '\u0502', '\u04f0', '\u04da', '\ufb16', '\u01b1', '\u01e5', '\uab50', '\u1d7a', '\u0216', '\u1e8e', '\u1e7a', '\u1e59', '\u1e68', '\u022b',
    '\ua685', '\u0515', '\u04cb', '\u048e', '\u04c5', '\ua682', '\u04f1', '\u04db', '\ufb13', '\u019c', '\u0197', '\uab51', '\u1efb', '\u1e7e', '\u1e8f', '\u1e7b', '\u1e5c', '\u1e69', '\u01d1',
    '\u0505', '\u04ce', '\u04b8', '\u0516', '\u052e', '\ua680', '\u04ee', '\u04dc', '\u04d0', '\u01b3', '\u0196', '\u20a7', '\u1d02', '\u1e7f', '\u1e99', '\u01d3', '\u1e5d', '\u1d74', '\u01d2',
    '\u0511', '\u04ca', '\ua692', '\u050c', '\u0512', '\ua688', '\u04ef', '\u04dd', '\u04d1', '\u01b4', '\u0269', '\u1efa', '\u1d14', '\u1e7c', '\u1e94', '\u01d4', '\u1e5e', '\u1e70', '\u022e',
    '\u04e1', '\u0529', '\ua696', '\ua690', '\u0520', '\u052a', '\u04f2', '\u04c1', '\u04d2', '\u01b5', '\u0198', '\ufb2e', '\uab63', '\u1e7d', '\u1e95', '\u01d5', '\u1e5f', '\u1e71', '\u022f',
    '\u0507', '\u04c8', '\ua686', '\u04ac', '\u0508', '\u052c', '\u04f3', '\u04c2', '\u04d3', '\u01b6', '\u0199', '\ufb2f', '\u0238', '\u1e86', '\u1e90', '\u01d6', '\u0210', '\u1e6e', '\u0230',
    '\u048b', '\u04a5', '\u048c', '\ua68a', '\u0514', '\ua684', '\u04f4', '\u04de', '\u04f6', '\u01a2', '\u019d', '\u0180', '\u02a3', '\u1e87', '\u1e91', '\u01d7', '\u0211', '\u1e6f', '\u0231',

    '\u0523', '\u0527', '\u1f01', '\u1fb0', '\u1ffb', '\u1f6f', '\u1faf', '\u2c7f', '\u1d8b', '\u1e9a', '\u1fe8', '\u1f45', '\u1fd7', '\u1f33', '\u1fc3', '\u1f91',
    '\u050b', '\ua695', '\u1f0a', '\u1fb9', '\u1f7d', '\u1f67', '\u1fa7', '\u0240', '\u1d8c', '\u2152', '\u1fe0', '\u1fec', '\u1ff8', '\u1f3c', '\u1fc2', '\u1f9a',
    '\u04a9', '\u04b5', '\u1f02', '\u1fb1', '\u1f68', '\u1fa8', '\u1ffc', '\u1d80', '\u1d8d', '\u2158', '\u1fe9', '\u1fe4', '\u1f78', '\u1f34', '\u1fc4', '\u1f92',
    '\u0525', '\ua68f', '\u1f0b', '\u1fbb', '\u1f60', '\u1fa0', '\u1ff3', '\ua7c4', '\ua7c6', '\u20a8', '\u1fe1', '\u1fe5', '\u1ff9', '\u1f3d', '\u1fc6', '\u1f9b',
    '\u04a7', '\u04b7', '\u1f03', '\u1f71', '\u1f69', '\u1fa9', '\u1ff2', '\ua794', '\u1d8e', '\u20af', '\u03d3', '\u1fea', '\u1f79', '\u1f35', '\u1fc7', '\u1f93',
    '\u048f', '\u04cc', '\u1f0c', '\u1f88', '\u1f61', '\u1fa1', '\u1ff4', '\u1d81', '\u1d8f', '\u0000', '\u03d4', '\u1f7a', '\u1f48', '\u1f3e', '\u1fda', '\u1f9c',
    '\u0517', '\u04b9', '\u1f04', '\u1f80', '\u1f6a', '\u1faa', '\u1ff6', '\u1d82', '\u1d90', '\u0000', '\u1fe2', '\u1feb', '\u1f40', '\u1f36', '\u1f76', '\u1f94',
    '\u050d', '\ua693', '\u1f0d', '\u1f89', '\u1f62', '\u1fa2', '\u1ff7', '\u1d83', '\u1d92', '\u0000', '\u1fe3', '\u1f7b', '\u1f49', '\u1f3f', '\u1fdb', '\u1f9d',
    '\ua691', '\ua697', '\u1f05', '\u1f81', '\u1f6b', '\u1fab', '\u262f', '\ua795', '\u1d93', '\u0000', '\u1fe7', '\u1f59', '\u1f41', '\u1f37', '\u1f77', '\u1f95',
    '\u04ad', '\ua687', '\u1f0e', '\u1f8a', '\u1f63', '\u1fa3', '\u2610', '\u1d84', '\u1d94', '\u0000', '\u1f50', '\u1f51', '\u1f4a', '\u1fd8', '\u1f38', '\u1f9e',
    '\ua68b', '\u048d', '\u1f06', '\u1f82', '\u1f6c', '\u1fac', '\u2611', '\u1d85', '\u1d95', '\u0000', '\u1f52', '\u1f5b', '\u1f42', '\u1fd0', '\u1f30', '\u1f96',
    '\ua68d', '\u0519', '\u1f0f', '\u1f8b', '\u1f64', '\u1fa4', '\u2612', '\u1d86', '\u1d96', '\u0000', '\u1f54', '\u1f53', '\u1f4b', '\u1fd9', '\u1f39', '\u1f9f',
    '\u050f', '\u051d', '\u1f07', '\u1f83', '\u1f6d', '\u1fad', '\u018d', '\u1d87', '\u1d97', '\u0000', '\u1fe6', '\u1f5d', '\u1f43', '\u1fd1', '\u1f31', '\u1f97',
    '\u04b3', '\u1f08', '\u1fba', '\u1f8c', '\u1f65', '\u1fa5', '\u01ba', '\u1d88', '\u1d98', '\u0000', '\u1f56', '\u1f55', '\u1f4c', '\u1fd2', '\u1f3a', '\u1fcb',
    '\u04fd', '\u1f00', '\u1f70', '\u1f84', '\u1f6e', '\u1fae', '\u2c7e', '\u1d89', '\u1d99', '\u0000', '\u1ffa', '\u1f5f', '\u1f44', '\u1fd3', '\u1f32', '\u1f75',
    '\u04ff', '\u1f09', '\u1fb8', '\u1f8d', '\u1f66', '\u1fa6', '\u023f', '\u1d8a', '\u1d9a', '\u0000', '\u1f7c', '\u1f57', '\u1f4d', '\u1fd6', '\u1f3b', '\u1fcc',

)

val nonLatinCharacters = hashSetOf(
    '\u00ad', '\u0394', '\u03a4', '\u03ba', '\u03c9', '\u0417', '\u0427', '\u0436', '\u0446', '\u045a', '\uff0b', '\u20bd', '\u2077', '\u049a', '\u05d2', '\u05e2', '\u00bd', '\udf0a', '\u2606',
    '\u00b7', '\u0395', '\u03a5', '\u03bb', '\u0402', '\u0418', '\u0428', '\u0437', '\u0447', '\u2013', '\u018f', '\u20ac', '\u2078', '\u049b', '\u05d3', '\u05e4', '\u00be', '\u2150', '\u2605',
    '\u20b4', '\u0396', '\u03a6', '\u03bc', '\u0405', '\u041a', '\u0429', '\u0438', '\u0448', '\u2014', '\u0259', '\u0462', '\u2079', '\u0492', '\u05d4', '\u05e3', '\u0387', '\u2151', '\u2718',
    '\u2260', '\u0397', '\u03a7', '\u03bd', '\u0406', '\u041b', '\u042a', '\u043a', '\u0449', '\u2018', '\u025b', '\u0463', '\u207a', '\u0493', '\u05d5', '\u05e6', '\u2010', '\u2155', '\u2080',
    '\u00bf', '\u0398', '\u03a8', '\u03be', '\u0408', '\u041c', '\u042b', '\u043b', '\u044a', '\u2019', '\u026a', '\u0474', '\u207b', '\u04b0', '\u05d6', '\u05e5', '\u201a', '\u2156', '\u2081',
    '\u00d7', '\u0399', '\u03a9', '\u03bf', '\u0409', '\u041d', '\u042c', '\u043c', '\u044b', '\u201c', '\u04ae', '\u0475', '\u207c', '\u04b1', '\u05d7', '\u05e7', '\u2020', '\u2157', '\u2082',
    '\u00d8', '\u039a', '\u03b1', '\u03c0', '\u040a', '\u041e', '\u042d', '\u043d', '\u044c', '\u201d', '\u04af', '\u04c0', '\u207d', '\u04d8', '\u05d8', '\u05e8', '\u2021', '\u2159', '\u2083',
    '\u00de', '\u039b', '\u03b2', '\u03c1', '\u040b', '\u041f', '\u042e', '\u043e', '\u044d', '\u201e', '\u04e8', '\u0472', '\u207e', '\u04d9', '\u05d9', '\u00a2', '\u2022', '\u215a', '\u2084',
    '\u04bb', '\u039c', '\u03b3', '\u03c2', '\u0410', '\u0420', '\u042f', '\u043f', '\u044e', '\u2026', '\u04e9', '\u0473', '\u2071', '\u0496', '\u05db', '\u00a4', '\u2031', '\u215f', '\u2085',
    '\u00f0', '\u039d', '\u03b4', '\u03c3', '\u0411', '\u0421', '\u0430', '\u0440', '\u044f', '\u204a', '\u02bb', '\u2070', '\u2122', '\u0497', '\u05dc', '\u00a5', '\u2032', '\u2189', '\u2086',
    '\u00f8', '\u039e', '\u03b5', '\u03c4', '\u0412', '\u0422', '\u0431', '\u0441', '\u0454', '\u2190', '\u02cc', '\u00b9', '\u0294', '\u04a2', '\u05de', '\u00a9', '\u2033', '\ud83d', '\u2087',
    '\u00fe', '\u039f', '\u03b6', '\u03c5', '\u0413', '\u0423', '\u0432', '\u0442', '\u0455', '\u2191', '\u037e', '\u00b3', '\u0295', '\u04a3', '\u05dd', '\u00ae', '\u2034', '\udde1', '\u2088',
    '\u0391', '\u03a0', '\u03b7', '\u03c6', '\u0414', '\u0424', '\u0433', '\u0443', '\u0456', '\u2192', '\u0138', '\u2074', '\u29c8', '\u04ba', '\u05e0', '\u00b5', '\u2035', '\ud83c', '\u2089',
    '\u0392', '\u03a1', '\u03b8', '\u03c7', '\u0415', '\u0425', '\u0434', '\u0444', '\u0458', '\u2193', '\u1e9e', '\u2075', '\u2694', '\u05d0', '\u05df', '\u00b6', '\u2036', '\udff9', '\u208a',
    '\u0393', '\u03a3', '\u03b9', '\u03c8', '\u0416', '\u0426', '\u0435', '\u0445', '\u0459', '\u21c4', '\u00df', '\u2076', '\u2620', '\u05d1', '\u05e1', '\u00bc', '\u2037', '\ud83e', '\u208b',

    '\u2039', '\u2212', '\u2665', '\u02ac', '\u1614', '\ua779', '\u053b', '\u054b', '\u0563', '\u0572', '\u0581', '\u055f', '\ua75a', '\u23f9', '\u0132', '\u16a0', '\u16b0', '\u16c0', '\ua781',
    '\u203a', '\u2213', '\u2666', '\u26a1', '\u0190', '\u1d1a', '\u053c', '\u054c', '\u0564', '\u0573', '\u0582', '\u0560', '\ua75b', '\u23fa', '\u0133', '\u16a2', '\u16b1', '\u16c1', '\u026f',
    '\u203b', '\u221e', '\u2669', '\u26cf', '\u07c8', '\u27d8', '\u053d', '\u054d', '\u0565', '\u0574', '\u0583', '\u0588', '\u2011', '\u23fb', '\u01c9', '\u16a3', '\u16b2', '\u16c2', '\u0279',
    '\u203c', '\u2600', '\u266a', '\u2714', '\u03db', '\u2229', '\u053e', '\u054e', '\u0566', '\u0575', '\u0584', '\u058f', '\u214b', '\u23fc', '\ua728', '\u16a4', '\u16b3', '\u16c3', '\u0287',
    '\u203d', '\u2601', '\u266b', '\u2744', '\u3125', '\u0245', '\u053f', '\u054f', '\u0567', '\u0576', '\u0585', '\u00af', '\u23cf', '\u23fd', '\ua729', '\u16a5', '\u16b4', '\u16c4', '\u028c',
    '\u2042', '\u2608', '\u266c', '\u274c', '\u2c6f', '\u2144', '\u0540', '\u0550', '\u0568', '\u0577', '\u0586', '\u017f', '\u23e9', '\u2b58', '\ua739', '\u16a6', '\u16b6', '\u16c5', '\u028d',
    '\u2048', '\u0404', '\u266d', '\u2764', '\u15fa', '\u0250', '\u0541', '\u0551', '\u0569', '\u0578', '\u0587', '\u01b7', '\u23ea', '\u25b2', '\ua73b', '\u16a7', '\u16b7', '\u16c6', '\u028e',
    '\u2049', '\u2632', '\u266e', '\u2b50', '\u0186', '\u0254', '\u0542', '\u0552', '\u056a', '\u0579', '\u05e9', '\u0292', '\u23ed', '\u25b6', '\ufb00', '\u16a8', '\u16b8', '\u16c7', '\u0531',
    '\u204b', '\u2635', '\u266f', '\u2e18', '\u15e1', '\u01dd', '\u0543', '\u0553', '\u056b', '\u057a', '\u05ea', '\u01f7', '\u23ee', '\u25bc', '\ufb01', '\u16a9', '\u16b9', '\u16c8', '\u0532',
    '\u204e', '\u263d', '\u2680', '\u2e2e', '\u018e', '\u025f', '\u0544', '\u0554', '\u056c', '\u057b', '\u0538', '\u01bf', '\u23ef', '\u25c0', '\ufb02', '\u16aa', '\u16ba', '\u16c9', '\u0533',
    '\u204f', '\u2640', '\u2681', '\u2e35', '\u2132', '\u1d77', '\u0545', '\u0555', '\u056d', '\u057c', '\u055a', '\u021c', '\u23f4', '\u25cf', '\ufb03', '\u16ab', '\u16bb', '\u16ca', '\u0534',
    '\u2051', '\u2642', '\u2682', '\u2e38', '\u2141', '\u0265', '\u0546', '\u0556', '\u056e', '\u057d', '\u055b', '\u021d', '\u23f5', '\u25e6', '\ufb05', '\u16ac', '\u16bc', '\u16cb', '\u0536',
    '\u2052', '\u26a5', '\u2683', '\u2e41', '\ua7b0', '\u1d09', '\u0547', '\u0559', '\u056f', '\u057e', '\u055c', '\u0224', '\u23f6', '\u25d8', '\ufffd', '\u16ad', '\u16bd', '\u16cc', '\u0537',
    '\u2057', '\u2660', '\u2684', '\u2e4b', '\ua780', '\u027e', '\u0548', '\u0561', '\u0570', '\u057f', '\u055d', '\u0225', '\u23f7', '\u2693', '\u0535', '\u16ae', '\u16be', '\u16cd', '\u0539',
    '\u2117', '\u2663', '\u2685', '\u295d', '\u0500', '\u029e', '\u0549', '\u0562', '\u0571', '\u0580', '\u055e', '\u02d9', '\u23f8', '\u26e8', '\u054a', '\u16af', '\u16bf', '\u16ce', '\u053a',

    '\u16cf', '\u16de', '\u16ed', '\u2639', '\u1d05', '\u1d1b', '\u0291', '\u01c1', '\u025c', '\u10a4', '\u10b3', '\u10c2', '\u10d9', '\u10e8', '\u10f7', '\ufb1d', '\u0285', '\u2d07', '\u2d14',
    '\u16d0', '\u16df', '\u16ee', '\u05da', '\u1d07', '\u1d1c', '\u0278', '\u0253', '\u025e', '\u10a5', '\u10b4', '\u10c3', '\u10da', '\u10e9', '\u10f8', '\ufb4b', '\u0286', '\u2d08', '\u2d15',
    '\u16d1', '\u16e0', '\u16ef', '\u05f3', '\ua730', '\u1d20', '\u029d', '\u0257', '\u0251', '\u10a6', '\u10b5', '\u10c4', '\u10db', '\u10ea', '\u10f9', '\ufb35', '\u0293', '\u2d09', '\u2d16',
    '\u16d2', '\u16e1', '\u16f0', '\u05f4', '\u0262', '\u1d21', '\u02a2', '\u1d91', '\u0252', '\u10a7', '\u10b6', '\u10c5', '\u10dc', '\u10eb', '\u10fa', '\ufb4c', '\u029a', '\u2d0a', '\u2d17',
    '\u16d3', '\u16e2', '\u16f1', '\u05f0', '\u029c', '\u028f', '\u027b', '\u0284', '\u025a', '\u10a8', '\u10b7', '\u10c7', '\u10dd', '\u10ec', '\u10fb', '\ufb31', '\u20aa', '\u2d0b', '\u2d18',
    '\u16d4', '\u16e3', '\u16f2', '\u05f1', '\u1d0a', '\u1d22', '\u0281', '\u0260', '\u025d', '\u10a9', '\u10b8', '\u10cd', '\u10de', '\u10ed', '\u10fc', '\ua727', '\u20be', '\u2d0c', '\u2d19',
    '\u16d5', '\u16e4', '\u16f3', '\u05f2', '\u1d0b', '\u00a7', '\u0266', '\u029b', '\u0181', '\u10aa', '\u10b9', '\u10d0', '\u10df', '\u10ee', '\u10fd', '\ua726', '\u058a', '\u2d22', '\u2d1a',
    '\u16d6', '\u16e5', '\u16f4', '\u05be', '\u029f', '\u0271', '\u028b', '\u0267', '\u0189', '\u10ab', '\u10ba', '\u10d1', '\u10e0', '\u10ef', '\u10fe', '\u027a', '\u2d00', '\u2d0d', '\u2d1b',
    '\u16d7', '\u16e6', '\u16f5', '\u05c3', '\u1d0d', '\u0273', '\u0270', '\u026b', '\u0191', '\u10ac', '\u10bb', '\u10d2', '\u10e1', '\u10f0', '\u10ff', '\u2c71', '\u2d01', '\u2d0e', '\u2d1c',
    '\u16d8', '\u16e7', '\u16f6', '\u05c6', '\u0274', '\u0272', '\u026c', '\u0268', '\u01a9', '\u10ad', '\u10bc', '\u10d3', '\u10e2', '\u10f1', '\ufb4a', '\u02a0', '\u2d02', '\u2d0f', '\u2d1d',
    '\u16d9', '\u16e8', '\u16f7', '\u00b4', '\u1d0f', '\u0288', '\u026e', '\u0289', '\u01b2', '\u10ae', '\u10bd', '\u10d4', '\u10e3', '\u10f2', '\ufb2b', '\u0297', '\u2d03', '\u2d10', '\u2d1e',
    '\u16da', '\u16e9', '\u16f8', '\u00a8', '\u1d18', '\u0256', '\u0298', '\u028a', '\u10a0', '\u10af', '\u10be', '\u10d5', '\u10e4', '\u10f3', '\ufb4e', '\u0296', '\u2d04', '\u2d11', '\u2d24',
    '\u16db', '\u16ea', '\u263a', '\u1d00', '\ua7af', '\u0261', '\u01c0', '\u0258', '\u10a1', '\u10b0', '\u10bf', '\u10d6', '\u10e5', '\u10f4', '\ufb44', '\u026d', '\u2d05', '\u2d12', '\u2d1f',
    '\u16dc', '\u16eb', '\u263b', '\u0299', '\u0280', '\u02a1', '\u01c3', '\u0275', '\u10a2', '\u10b1', '\u10c0', '\u10d7', '\u10e6', '\u10f5', '\ufb3b', '\u0277', '\u2d06', '\u2d23', '\u2d20',
    '\u16dd', '\u16ec', '\u00a6', '\u1d04', '\ua731', '\u0255', '\u01c2', '\u0264', '\u10a3', '\u10b2', '\u10c1', '\u10d8', '\u10e7', '\u10f6', '\ufb1f', '\u027f', '\u2d21', '\u2d13', '\u2d25',

    '\u215b', '\u270e', '\u21cf', '\u22bb', '\u221b', '\u208c', '\u019a', '\u0234', '\u0248', '\ua7a9', '\ud800', '\udf3e', '\ud800', '\ude93', '\udf56', '\u20ab', '\u20bf', '\u00a1',
    '\u215c', '\u2763', '\u21d4', '\u22bc', '\u221c', '\u208d', '\u019b', '\u0235', '\u0249', '\ud800', '\udf37', '\ud800', '\udf46', '\ud83d', '\ud83e', '\u20ad', '\u0000', '\u2030',
    '\u215d', '\u2664', '\u21f5', '\u22bd', '\u2202', '\u208e', '\u0220', '\u0236', '\u024a', '\udf30', '\ud800', '\udf3f', '\ud800', '\udd31', '\udea3', '\u20ae', '\u0000',
    '\u215e', '\u2667', '\u2200', '\u2225', '\u22c3', '\u222b', '\u019e', '\u023a', '\u024b', '\ud800', '\udf38', '\ud800', '\udf47', '\ud83c', '\ud83d', '\u20b0', '\u0000',
    '\u2153', '\u2661', '\u2203', '\u2262', '\u2286', '\u222e', '\u019f', '\u2c65', '\u024c', '\udf31', '\ud800', '\udf40', '\ud800', '\udfa3', '\udd14', '\u20b1', '\u0000',
    '\u2154', '\u2662', '\u2204', '\u22c6', '\u2287', '\u221d', '\u01a7', '\u023b', '\u024d', '\ud800', '\udf39', '\ud800', '\udf48', '\ud83e', '\u23f3', '\u20b2', '\u0000',
    '\u2709', '\u26c8', '\u2209', '\u2211', '\u25a1', '\u2300', '\u01a8', '\u023c', '\u024e', '\udf32', '\ud800', '\udf41', '\ud800', '\uddea', '\u2691', '\u20b3', '\u0000',
    '\u2602', '\u2630', '\u220b', '\u22a4', '\u25b3', '\u2302', '\u01aa', '\u0246', '\u024f', '\ud800', '\udf3a', '\ud800', '\udf49', '\u2697', '\u20a0', '\u20b5', '\u0000',
    '\u2614', '\u2631', '\u220c', '\u22a5', '\u25b7', '\u2318', '\u01b8', '\u0247', '\u1e9c', '\udf33', '\ud800', '\udf42', '\ud800', '\u2bea', '\u20a1', '\u20b6', '\u0000',
    '\u2604', '\u2633', '\u2282', '\u22a2', '\u25bd', '\u3012', '\u01b9', '\u023e', '\u1e9d', '\ud800', '\udf3b', '\ud800', '\udf4a', '\u2beb', '\u20a2', '\u20b7', '\u0000',
    '\u26c4', '\u2634', '\u2283', '\u22a8', '\u25c1', '\u027c', '\u01bb', '\u2c66', '\u1efc', '\udf34', '\ud800', '\udf43', '\ud83c', '\u2c6d', '\u20a3', '\u20b8', '\u0000',
    '\u2603', '\u2636', '\u2284', '\u2254', '\u25c6', '\u0184', '\u01bc', '\u0241', '\u1efd', '\ud800', '\udf3c', '\ud800', '\udf27', '\ud83d', '\u20a4', '\u20b9', '\u0000',
    '\u231b', '\u2637', '\u2285', '\u2201', '\u25c7', '\u0185', '\u01bd', '\u0242', '\u1efe', '\udf35', '\ud800', '\udf44', '\ud83d', '\udee1', '\u20a5', '\u20ba', '\u0000',
    '\u231a', '\u2194', '\u2227', '\u2234', '\u25cb', '\u1e9f', '\u01be', '\u0243', '\u1eff', '\ud800', '\udf3d', '\ud800', '\udd25', '\u2702', '\u20a6', '\u20bb', '\u0000',
    '\u2690', '\u21d2', '\u2228', '\u2235', '\u25ce', '\u023d', '\u0221', '\u0244', '\ua7a8', '\udf36', '\ud800', '\udf45', '\ud83c', '\ud83c', '\u20a9', '\u20bc', '\u0000',
)

val asciiCharacters = hashMapOf(
    'A' to 5, 'a' to 5, 'B' to 5, 'b' to 5, 'C' to 5, 'c' to 5,
    'D' to 5, 'd' to 5, 'E' to 5, 'e' to 5, 'F' to 5, 'f' to 4,
    'G' to 5, 'g' to 5, 'H' to 5, 'h' to 5, 'I' to 3, 'i' to 1,
    'J' to 5, 'j' to 5, 'K' to 5, 'k' to 4, 'L' to 5, 'l' to 2,
    'M' to 5, 'm' to 5, 'N' to 5, 'n' to 5, 'O' to 5, 'o' to 5,
    'P' to 5, 'p' to 5, 'Q' to 5, 'q' to 5, 'R' to 5, 'r' to 5,
    'S' to 5, 's' to 5, 'T' to 5, 't' to 3, 'U' to 5, 'u' to 5,
    'V' to 5, 'v' to 5, 'W' to 5, 'w' to 5, 'X' to 5, 'x' to 5,
    'Y' to 5, 'y' to 5, 'Z' to 5, 'z' to 5, '1' to 5, '2' to 5,
    '3' to 5, '4' to 5, '5' to 5, '6' to 5, '7' to 5, '8' to 5,
    '9' to 5, '0' to 5, '$' to 5, '|' to 1, '~' to 5, '`' to 2,
    ',' to 1, '.' to 1, '!' to 1, '?' to 5, ' ' to 3, ';' to 1,
    ':' to 1, '_' to 5, '-' to 5, '+' to 5, '=' to 5, '*' to 3,
    '"' to 3, '\'' to 1, '%' to 5, '&' to 5, '^' to 5, '#' to 5,
    '<' to 4, '>' to 4, '(' to 3, ')' to 3, '/' to 5, '\\' to 5,
    '{' to 3, '}' to 3, '[' to 3, ']' to 3, '@' to 6,
)
